
{% extends "base.html" %}

{% block content %}

<div class="card">
    <h2>Trip Results for {{ destination }}</h2>

    <p><strong>Dates:</strong> {{ start_date }} ‚Üí {{ end_date }}</p>

    {% if weather %}
    <div class="weather-box">
        <h3>üå§ Weather Forecast</h3>
        <p><strong>Average High:</strong> {{ weather.avg_temp_max }}¬∞C</p>
        <p><strong>Rain Probability:</strong> {{ (weather.max_pop * 100) | round }}%</p>
    </div>
    {% endif %}

    {% if packing_list %}
    <div class="packing-box">
        <h3>üß≥ Recommended Packing List</h3>
        <ul>
            {% for item, count in packing_list.items() %}
                <li><strong>{{ count }}x</strong> {{ item }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>

<!-- AI Question Box -->
<div class="card ai-card">
    <h2>ü§ñ Ask AI to Help Plan Your Trip The Following are Suggested Prompts!</h2>
    <h4>1. What outfits should I pack for this weather?</h4>
    <h4>2. How many layers do I need for cold days?</h4>
    <h4>3. What shoes should I bring for my activities?</h4>
    <h4>4. Will I need rain gear on this trip?</h4>
    <h4>5. What should I pack for nightlife?</h4>
    <h4>6. What should I wear to business meetings?</h4>
    <h4>7. What toiletries should I bring?</h4>
    <h4>8. How can I pack lighter for this trip?</h4>
    <h4>9. What tech accessories should I bring?</h4>
    <h4>10. What should I pack for long travel days?</h4>


    <form method="POST" action="/ask_ai">
        <input type="hidden" name="destination" value="{{ destination }}">
        <input type="hidden" name="start_date" value="{{ start_date }}">
        <input type="hidden" name="end_date" value="{{ end_date }}">

        <textarea name="user_question" placeholder="Ask me anything‚Ä¶ e.g. What outfits should I pack?" required></textarea>
        <button type="submit" class="btn-primary">Ask AI</button>
    </form>

    {% if ai_answer %}
    <div class="ai-response">
        <h3>AI Response</h3>
        <p>{{ ai_answer }}</p>
    </div>
    {% endif %}
</div>

<a href="/" class="btn-secondary">‚Üê Plan Another Trip</a>

{% endblock %}